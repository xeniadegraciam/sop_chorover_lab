<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Xenia De Gracia Medina">
<meta name="dcterms.date" content="2025-05-01">

<title>Standard Operating Procedures</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="SOP_files/libs/clipboard/clipboard.min.js"></script>
<script src="SOP_files/libs/quarto-html/quarto.js"></script>
<script src="SOP_files/libs/quarto-html/popper.min.js"></script>
<script src="SOP_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="SOP_files/libs/quarto-html/anchor.min.js"></script>
<link href="SOP_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="SOP_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="SOP_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="SOP_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="SOP_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


<link rel="stylesheet" href="styles.css">
</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#administrative-procedures" id="toc-administrative-procedures" class="nav-link active" data-scroll-target="#administrative-procedures"><span class="header-section-number">1</span> <strong>ADMINISTRATIVE PROCEDURES</strong></a></li>
  <li><a href="#mineralogy" id="toc-mineralogy" class="nav-link" data-scroll-target="#mineralogy"><span class="header-section-number">2</span> <strong>MINERALOGY</strong></a></li>
  <li><a href="#spectroscopy" id="toc-spectroscopy" class="nav-link" data-scroll-target="#spectroscopy"><span class="header-section-number">3</span> <strong>SPECTROSCOPY</strong></a></li>
  <li><a href="#physico-chemical-properties" id="toc-physico-chemical-properties" class="nav-link" data-scroll-target="#physico-chemical-properties"><span class="header-section-number">4</span> <strong>PHYSICO-CHEMICAL PROPERTIES</strong></a></li>
  <li><a href="#analytical-procedures" id="toc-analytical-procedures" class="nav-link" data-scroll-target="#analytical-procedures"><span class="header-section-number">5</span> <strong>ANALYTICAL PROCEDURES</strong></a></li>
  <li><a href="#experiments" id="toc-experiments" class="nav-link" data-scroll-target="#experiments"><span class="header-section-number">6</span> <strong>EXPERIMENTS</strong></a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Standard Operating Procedures</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Xenia De Gracia Medina </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 1, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<div style="text-align: center; margin-top: 30px;">
<p><img src="SOP_files/figures/logos/cales_logo.png" style="margin-bottom: 10px;" width="300"></p>
<p><span style="color: #00458C;"><strong>Standard Operating Procedures</strong></span></p>
<p><span style="color: #00458C;"><strong>Chorover’s Lab</strong></span><br>
</p>
<p>Department of Environmental Sciences<br>
<span style="font-size: 1em;">University of Arizona</span><br>
</p>
<p><em>This is an ongoing work and a gift for Rob, to give him some rest from repeating the same information every time someone joins the lab xD</em></p>
</div>
<hr>
<hr>
<section id="administrative-procedures" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> <strong>ADMINISTRATIVE PROCEDURES</strong></h1>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true" href="">RLSS</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false" href=""><strong>Chemical &amp; Biohazard Waste Pickup Request</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false" href="">Buying Lab Supplies in BuyWays</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false" href="">Remote Access to 518 computer</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<p>Remember to check the fulfillment of the required safety training in the Research Laboratory and Safety Services.</p>
<p><a href="https://rlss.arizona.edu/services/protected/index.xhtml">Link to RLSS</a></p>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<p>The hazardous waste pick up happens the SECOND Thursday of every month. You have to schedule it with enough time so they can pick it up, bring you extra tanks and tags for the chemicals.</p>
<p><a href="https://risk.arizona.edu/forms/chemical-waste-pickup">Form for Chemical &amp; Biohazard Waste Pickup Request</a></p>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<ul>
<li>Uacces</li>
<li>Financial</li>
<li>NetID</li>
<li>More Items</li>
<li>Orders</li>
<li><a href="https://financials.uaccess.arizona.edu/kfs/b2b.do?methodToCall=shopCatalogs">Shop catalogs</a></li>
<li>In the search tool, write what you’re looking for (Catalog number, Product number or SKU number)</li>
<li>Add to cart</li>
<li>View my cart</li>
<li><strong><em>You can only do one supplier at a time</em></strong></li>
<li>Proceed to Uaccess Financials</li>
<li>Document overview (Description, Explanation</li>
<li>Delivery -&gt; Search -&gt; Building Code = 38 -&gt; Return value -&gt; Room # = 518 -&gt;</li>
<li>Items -&gt; Setup distribution -&gt; Account number (Superfund is 3035856)** Check that the name of your project is under the account number -&gt; Object -&gt; Code for chemicals (5280) -&gt; For not chemicals (5290) -&gt; PLUS SIGN -&gt; In the second, level Distribute to Items -&gt; In Item Type for Chemicals is Quantity tax exempt, but for any other supplies Quantity Taxable.</li>
<li>At the bottom click CALCULATE</li>
<li>SUBMIT</li>
</ul>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<ul>
<li>Look for the “Remote Desktop Connection” app in your computer.</li>
<li>Enter the name of the computer you want to access remotely in the blank space. The one in 518 lab is:&nbsp;cals-envs22-45.bluecat.arizona.edu</li>
<li>Log in with your NetID Catcard credentials.</li>
<li>Look for the Geochemist Workbench Program.</li>
<li>In case you need access to the VPN, follow the next link to Download Install and LogIn to the VPN on your computer (this will just let you log in if you are outside campus, I don’t think it let you log in if you are on-campus network). <img src="SOP_files/figures/Slides_SOP/518vpn.PNG" class="img-fluid" alt="Remote Access Connection"></li>
</ul>
</div>
</div>
</div>
</section>
<section id="mineralogy" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> <strong>MINERALOGY</strong></h1>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true" href="">Sample prep for powder XRD with Corundum</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false" href="">Craig’s Rasmussen Lab Computer procedure for X-ray Diffraction</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false" href="">Full Pattern Summation with powdR package (Rockjock library)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-4" role="tab" aria-controls="tabset-2-4" aria-selected="false" href=""><strong>Rietveld Refinement with X’pert HighScore</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<p>Link to the official procedure from Chemistry &amp; Biochemistry lab:</p>
<ul>
<li>Heat the Corundum (Aluminum Oxide) in the oven for 3 hours at 550 Celsius. The fume hood from Sam Rathke (srathke@arizona.edu) located at 503 lab works well for this.</li>
<li>Use 5 grams of your sample and add 10% of that weight of Corundum (0.05 g).</li>
<li>Use the ball mill to shake your sample with Corundum for 3 minutes.</li>
<li>Clean the ball mill between samples with Ethanol.</li>
<li>Then shake the ball mill with just Sand for another 3 minutes.</li>
<li>Then proceed to shake your following sample.</li>
<li>If you are not analyzing your samples yourself, you can send them to the Chemistry &amp; Biochemistry Lab (Andrei Astachkine: andrei@arizona.edu)</li>
</ul>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>This procedure applies if you analyze your samples at Craig Rasmussen’s lab.</p>
<p>Request permission from him before using their facilities, and also for safety concerns with radiation.</p>
<section id="xpert-data-collector-program" class="level3" data-number="2.0.1">
<h3 data-number="2.0.1" class="anchored" data-anchor-id="xpert-data-collector-program"><span class="header-section-number">2.0.1</span> X’Pert Data Collector program:</h3>
<ul>
<li>Check the water level and the filler. Fill them with super clean water, such as UV Reverse Osmosis water.</li>
<li><em>Username: Craig</em></li>
<li><em>Password: tippy</em></li>
<li>Connect to the instrument, and click ok for the message that comes in.</li>
<li>Click on “Instruments Settings” -&gt; X-Ray -&gt; Tension: 45 kV -&gt; Current: 40 mA</li>
</ul>
<p><em>NOTES:</em></p>
<ul>
<li><p>The yellow light on the machine means it is shooting X-rays. The sample analyzer is delicate. Do not touch the doors because they are sensitive.</p></li>
<li><p>When running samples during the Monsoon season, the Tension and Current to use in the software will be 20 kV and 10 mA, respectively. For the rest of the year, it is 30 kV and 10 mA, respectively. This is because of the shortage of electricity during Monsoons.</p></li>
</ul>
<p><strong>It takes around 1.5</strong> hours per sample to run a Quantitative scan<strong>.</strong></p>
</section>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<section id="xrd-process-optimization" class="level3" data-number="2.0.2">
<h3 data-number="2.0.2" class="anchored" data-anchor-id="xrd-process-optimization"><span class="header-section-number">2.0.2</span> XRD Process Optimization</h3>
<ul>
<li><strong>pH stability</strong>
<ul>
<li>Selection of minerals based on the pH of the sample, prior to do the Full-Pattern Summation</li>
</ul></li>
<li><strong>Adding more minerals to Rockjock</strong>
<ul>
<li>Adding Alunite and the other 20 to the Rockjock library</li>
</ul></li>
<li>Found Alunite in XAS
<ul>
<li>Discovered Alunite through XAS (Jarosite but with Al instead of Fe). showing the need to wider the Rockjock library with other minerals.</li>
</ul></li>
<li>Xpert is a slow process
<ul>
<li>Checking which site has Alunite in Xpert one by one is a long process</li>
</ul></li>
<li>Full Pattern Summation with Rockjock library
<ul>
<li>Instead: check the sites automatically through Full Pattern Summation with the Rockjock library</li>
</ul></li>
<li>VESTA to get XRD
<ul>
<li>CIFF files were used to get the XRD through VESTA Wavelength Copper 1.5406 2theta range: 5 – 65 Step size: 0.02</li>
</ul></li>
</ul>
</section>
</div>
<div id="tabset-2-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-4-tab">

</div>
</div>
</div>
</section>
<section id="spectroscopy" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> <strong>SPECTROSCOPY</strong></h1>
<p><a href="https://arizona.box.com/s/hsgb6jg237s6oge5pqmd8hn69ml6k7s6">SYNCHROTRON VISIT LOGBOOK</a></p>
<p>The link above contains the scanned version of the synchrotron visit logbook with all the notes taken during synchrotron visits, from page 1 to page 233 of the logbook (last synchrotron visit scanned: December 2024). This helps identify the labels used on the data files scanned and if there were specific observations to note during the synchrotron visit.</p>
<p>The link to the manual for data analyses of XAS is at this link: <a href="https://docs.google.com/document/d/11aBW2lp7dQ3Z7M_WR1V9nHGQpyaWus9GZM6z-x5BB98/edit?usp=sharing">XAS Analysis Manual</a></p>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true" href="">XAS</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false" href="">FTIR</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<section id="arsenic-xas" class="level3" data-number="3.0.1">
<h3 data-number="3.0.1" class="anchored" data-anchor-id="arsenic-xas"><span class="header-section-number">3.0.1</span> Arsenic XAS</h3>
<section id="exafs-arsenic-speciation" class="level4" data-number="3.0.1.1">
<h4 data-number="3.0.1.1" class="anchored" data-anchor-id="exafs-arsenic-speciation"><span class="header-section-number">3.0.1.1</span> EXAFS Arsenic Speciation</h4>
</section>
<section id="xanes-arsenic-oxidation-state" class="level4" data-number="3.0.1.2">
<h4 data-number="3.0.1.2" class="anchored" data-anchor-id="xanes-arsenic-oxidation-state"><span class="header-section-number">3.0.1.2</span> XANES Arsenic Oxidation State</h4>
</section>
</section>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<section id="atr-ftir" class="level3" data-number="3.0.2">
<h3 data-number="3.0.2" class="anchored" data-anchor-id="atr-ftir"><span class="header-section-number">3.0.2</span> ATR FTIR</h3>
<ul>
<li>Computer Password: UCMerced2014</li>
<li>OMNIC Software</li>
<li>Experiment: iS50 ATR</li>
<li>Close the sampler (2 clicks)</li>
<li>Experiment Setup -&gt; Collect -&gt; Number of scans: 64 -&gt; Collect Background after 120 minutes -&gt; Save</li>
<li>Collect Background (humidity always looks the same: 3 peaks between 2800 to 2000)</li>
<li>Start Collection (Up-right corner)</li>
<li>A message will come after saying the data collection has stopped. Add to a new window? YES!</li>
<li>File -&gt; Save As -&gt; Set Filename to Title -&gt; Save it (SPA, SPC, CSV)</li>
<li>Experimental Setup -&gt; Collect -&gt; Use specified Background file -&gt; Choose the one you just saved (get a new background every 4 hours) -&gt; Ok</li>
<li>Put your sample under the sampler. Rotate it until hearing 2 clicks.</li>
<li>Collect Sample -&gt; Fill the sample ID name –&gt; Ok</li>
<li>Start Collection (Up-right corner) -&gt; Add to Background? YES!</li>
<li>Common Scale. (Or Full scale if you prefer to see your sample closer.)</li>
<li>File -&gt; Save As -&gt; Set Filename to Title -&gt; Save it (SPA, SPC, CSV)</li>
<li>Load a new sample to scan.</li>
<li>Collect Sample -&gt; Fill the sample ID name –&gt; Ok</li>
<li>Start Collection (Up-right corner) -&gt; Add to Background? YES!</li>
<li>Common Scale. (Or Full scale if you prefer to see your sample closer.)</li>
<li>File -&gt; Save As -&gt; Set Filename to Title -&gt; Save it (SPA, SPC, CSV)</li>
<li>Process -&gt; Normalize Scale</li>
<li>Auto Baseline Correction</li>
<li>Analyze -&gt; Search Peaks</li>
</ul>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="SOP_files/figures/Slides_SOP/Slide4.PNG" class="img-fluid figure-img"></p>
<figcaption>ATR-FTIR</figcaption>
</figure>
</div>
</section>
</div>
</div>
</div>
</section>
<section id="physico-chemical-properties" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> <strong>PHYSICO-CHEMICAL PROPERTIES</strong></h1>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-4-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-1" role="tab" aria-controls="tabset-4-1" aria-selected="true" href="">pH</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-2" role="tab" aria-controls="tabset-4-2" aria-selected="false" href="">EC</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-3" role="tab" aria-controls="tabset-4-3" aria-selected="false" href="">Specific Surface Area</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-4" role="tab" aria-controls="tabset-4-4" aria-selected="false" href="">Particle size distribution</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-4-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-4-5" role="tab" aria-controls="tabset-4-5" aria-selected="false" href="">Soil-Water Characteristics</a></li></ul>
<div class="tab-content">
<div id="tabset-4-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-4-1-tab">

</div>
<div id="tabset-4-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-2-tab">

</div>
<div id="tabset-4-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-3-tab">
<section id="sample-preparation" class="level3" data-number="4.0.1">
<h3 data-number="4.0.1" class="anchored" data-anchor-id="sample-preparation"><span class="header-section-number">4.0.1</span> Sample preparation:</h3>
<ul>
<li>Liquid Nitrogen must be ordered previously, and you can pick it up from the Cryogenics Facilities from 8 to 11 am every day.</li>
<li>Check that the Gas Nitrogen is available for degassing.</li>
<li>Weight a clean empty tube</li>
<li>Fill it with a sample</li>
<li>Weight the tube+sample</li>
<li>Degas the samples overnight with a temperature of 45 Celsius because I’m using tailings. If I increase the temperature I could convert my ferrihydrite to Goethite, and we don’t want that.</li>
</ul>
</section>
<section id="computer-procedure-gemini-program" class="level3" data-number="4.0.2">
<h3 data-number="4.0.2" class="anchored" data-anchor-id="computer-procedure-gemini-program"><span class="header-section-number">4.0.2</span> Computer procedure: Gemini program</h3>
<ul>
<li>Calibrate the machine with the Black Carbon sample, which has an SSE of about 21 m2/g.</li>
<li>Next</li>
<li>New</li>
<li>Method: Specific Surface Area</li>
<li>Sample: <strong>insert name</strong> (The way of saving a sample is: “YearMonthDay”<em>”sampleID”</em>”yourInitials”, example: 20230121_Keating_XD)</li>
<li>Operator: <strong>insert your initials</strong></li>
<li>Calculate</li>
<li>Empty&nbsp;Weight</li>
<li>Sample+Tube Weight</li>
<li>Save As: <strong>same as sample name</strong></li>
<li>Once your weights appear in the “Analysis” screen, you can press Start.</li>
</ul>
<p><strong>NOTE: If you have an error in the computer, take a screenshot and save it in the PPT that is open in that computer.</strong></p>
</section>
</div>
<div id="tabset-4-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-4-tab">

</div>
<div id="tabset-4-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-4-5-tab">
<section id="hyprop-for-soil-water-characteristic-curves" class="level3" data-number="4.0.3">
<h3 data-number="4.0.3" class="anchored" data-anchor-id="hyprop-for-soil-water-characteristic-curves"><span class="header-section-number">4.0.3</span> HYPROP for Soil-Water Characteristic Curves</h3>
</section>
<section id="wp4-c" class="level3" data-number="4.0.4">
<h3 data-number="4.0.4" class="anchored" data-anchor-id="wp4-c"><span class="header-section-number">4.0.4</span> WP4-C</h3>
<p>Dry part of the Soil-Water Characteristic Curve</p>
<section id="bulk-density" class="level4" data-number="4.0.4.1">
<h4 data-number="4.0.4.1" class="anchored" data-anchor-id="bulk-density"><span class="header-section-number">4.0.4.1</span> Bulk Density</h4>
<ul>
<li>Get the field bulk density of your sample and fill the cell called <strong><em>“B.D.”</em></strong> in the excel template that Mohammadreza prepared.</li>
<li>If necessary, bulk density can be obtained by filling a cylinder with known volume, with the soil, and weight the soil. Bulk density = soil mass/ volume of cylinder.</li>
</ul>
</section>
</section>
<section id="moisture-for-dry-part-of-the-swcc" class="level3" data-number="4.0.5">
<h3 data-number="4.0.5" class="anchored" data-anchor-id="moisture-for-dry-part-of-the-swcc"><span class="header-section-number">4.0.5</span> Moisture % for dry part of the SWCC</h3>
<ul>
<li>Weight each stainless-steel cup and insert that value on the cell <strong><em>“M_c”</em></strong>. Put the name of each sample on the stainless-steel cup with a sharpy.</li>
<li>Bring your dry soil samples and take around 4 grams of each and put each on the stainless-steel cup. We need to preselect specific moisture content values for the dry part of the curve we are interested in studying. - This values can be based on the approximate known dry water content for each site. For example, if you know from previous studies an approximation of the dry water content, then the values should be around that. In this case we are selecting: 1% (0.01), 5% (0.05), 10% (0.10), 15% (0.15) and 20% (0.20). Insert these values on the cell called <strong><em>“th_v_1”</em></strong>.</li>
<li>The spreadsheet will indicate on the cell <strong><em>“M_w_1”</em></strong> how much water you should add to each sample to get the desired moisture content.</li>
<li>Add the amount of water to each sample, cover with the lead, cover it with aluminum foil, put all your samples in a Ziploc bag to avoid loss of moisture by evaporation. Put them in the fridge for 3 days.</li>
</ul>
</section>
<section id="wp4c-calibration" class="level3" data-number="4.0.6">
<h3 data-number="4.0.6" class="anchored" data-anchor-id="wp4c-calibration"><span class="header-section-number">4.0.6</span> WP4C calibration</h3>
<ul>
<li>Turn on the WP4C at least 15minutes before start using it.</li>
<li>Take your samples from the fridge and put them on the Temperature Equilibration Plate at 23 Celsius.</li>
<li>Using the <strong><em>Southeast button</em></strong>, verify that the temperature difference is always negative (Ts – Tb).. Then press the same button to go back to the main menu.</li>
<li>Poor the standard solution KCl in one of the cylinders and insert it to the sample holder. (The lead doesn’t fit the WP4C, so insert just the cylinder with no lead).</li>
<li>Press the <strong><em>Southwest button</em></strong> to go to the calibration menu. Then press the <strong><em>Northeast button</em></strong> to start the calibration. - Rotate the button until it is on the READ option.</li>
<li>It will take around 15 minutes, until it makes a peep sound, and flashes 3 times a green light.</li>
<li>The pressure result for the calibration should be -2.22 MPa. If it is not that, you can arrange the value (+ -) in the screen of the machine.</li>
</ul>
</section>
<section id="wp4c-readings" class="level3" data-number="4.0.7">
<h3 data-number="4.0.7" class="anchored" data-anchor-id="wp4c-readings"><span class="header-section-number">4.0.7</span> WP4C readings</h3>
<ul>
<li>Take out the KCl standard and insert your sample in the sampler holder. Read it. It will take around 15 minutes.</li>
<li>Take note of the tension in Mpa. Fill that value in the template in the cell <strong><em>“h”</em></strong>.</li>
<li>Immediately read the weight of the sample in the balance. Fill it out in the cell called <strong><em>“M_c_ws”</em></strong>.</li>
<li>Change to a new sample to read it.</li>
<li>After reading all the samples, put them in the oven with no lead for 24 hours at 105 Celsius.</li>
<li>Read the dry weight of each sample after the 24 hours. Insert that value o the cell called <strong><em>“M_c_ds”</em></strong>.</li>
<li>Insert all this information into the Excel template made by Mohammadreza to get the water content equivalent to each matric potential</li>
</ul>
</section>
</div>
</div>
</div>
</section>
<section id="analytical-procedures" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> <strong>ANALYTICAL PROCEDURES</strong></h1>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-5-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-1" role="tab" aria-controls="tabset-5-1" aria-selected="true" href="">ALEC Sample volume required for different analyses:</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-2" role="tab" aria-controls="tabset-5-2" aria-selected="false" href="">ICP-MS (main cations) &amp; Arsenic Speciation</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-3" role="tab" aria-controls="tabset-5-3" aria-selected="false" href="">Ion Chromatography (Anions)</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-4" role="tab" aria-controls="tabset-5-4" aria-selected="false" href="">Iron Speciation</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-5-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-5" role="tab" aria-controls="tabset-5-5" aria-selected="false" href="">Ferrozine Method for Iron Speciation</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-5-6-tab" data-bs-toggle="tab" data-bs-target="#tabset-5-6" role="tab" aria-controls="tabset-5-6" aria-selected="false" href="">TOC (Total Organic Carbon)</a></li></ul>
<div class="tab-content">
<div id="tabset-5-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-5-1-tab">
<table class="caption-top table">
<caption>ALEC Volumes</caption>
<colgroup>
<col style="width: 75%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th><strong>Analysis</strong></th>
<th><strong>Volume needed</strong></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>ICP-MS / ICP-AES / Arsenic Speciation</td>
<td>3 mL</td>
</tr>
<tr class="even">
<td>Total Organic Carbon, Total Carbon and Total Nitrogen</td>
<td>17 mL</td>
</tr>
<tr class="odd">
<td>Ion Chromatography</td>
<td>1 mL</td>
</tr>
<tr class="even">
<td>HPLC ICP-MS</td>
<td>300 uL (<em>micro Liters</em>)</td>
</tr>
<tr class="odd">
<td>HPLC electrospray ionization (ESI) MS</td>
<td>1 mL</td>
</tr>
<tr class="even">
<td>Ferrozine method</td>
<td>ALEC does not run this. Fan/Fan method</td>
</tr>
<tr class="odd">
<td><strong>TOTAL VOLUME NEEDED PER SAMPLING POINT:</strong></td>
<td><strong>25 mL</strong></td>
</tr>
</tbody>
</table>
</div>
<div id="tabset-5-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-2-tab">
<p>*** All ALEC samples need to be filtered with 0.45um filters before submitting them to the lab***</p>
<ul>
<li>Prepare a batch of 2% of High Purity Nitric Acid (HNO3)</li>
<li>Take 1 mL of the sample</li>
<li>Add 7mL of EDTA 0.25M for As Speciation. <strong><em>this EDTA step messed up the tubing on the ICP-MS machine so be careful</em></strong></li>
<li>Add 2 mL of HNO3</li>
<li>Total volume of the mix in the tube: 10 mL</li>
<li>Dilution factor = Final Volume / Initial Volume = 10/1 = 10</li>
</ul>
</div>
<div id="tabset-5-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-3-tab">
<ul>
<li>2 mL of the sample</li>
<li>Nothing else is added to the samples</li>
</ul>
</div>
<div id="tabset-5-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-4-tab">
<ul>
<li>Prepare a batch of 2% of Hydrochloric acid (HCL)</li>
<li>Take 1 mL of the sample</li>
<li>Add 9 mL of HCL</li>
<li>Total volume of the mix in the tube: 10 mL</li>
<li>Dilution factor = Final Volume / Initial Volume = 10/1 = 10</li>
</ul>
</div>
<div id="tabset-5-5" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-5-tab">
<section id="materials" class="level3" data-number="5.0.1">
<h3 data-number="5.0.1" class="anchored" data-anchor-id="materials"><span class="header-section-number">5.0.1</span> Materials:</h3>
<ul>
<li>Ferrozine 5 grams container</li>
<li>Ferrous Ammonium Sulphate 500 grams container</li>
<li>Ammonium acetate in 245 or 518</li>
<li>Spectrophotometer (We have one in 508.
<ul>
<li>Brand: Fisher Scientific</li>
<li>Model: AccuSkan FC microplate photometer</li>
<li>Catalog number 14377575)</li>
</ul></li>
<li>Wavelength filter for Iron should be <strong>562 nm</strong>. Buy it here: <a href="https://www.thermofisher.com/order/catalog/product/1425605"></a></li>
</ul>
</section>
<section id="sample-preparation-1" class="level3" data-number="5.0.2">
<h3 data-number="5.0.2" class="anchored" data-anchor-id="sample-preparation-1"><span class="header-section-number">5.0.2</span> Sample preparation</h3>
<ul>
<li>Complex is stable Between pH 4 and 10</li>
<li>Concentrations Between 0.01 - 3 ppm or between 2 – 10 ppm.</li>
<li>Match the metrics of your sample: Ionic Strength or Acid concentration</li>
<li>Use the cuvettes the same orientation always.</li>
<li>Add 100 microL of Ferrozine to all cuvettes. Including the blank, standards and samples.</li>
<li>Add 50microL of Buffer to all cuvettes and wait 5 minutes to color development.</li>
</ul>
</section>
<section id="spectrophotometer" class="level3" data-number="5.0.3">
<h3 data-number="5.0.3" class="anchored" data-anchor-id="spectrophotometer"><span class="header-section-number">5.0.3</span> Spectrophotometer</h3>
<ul>
<li>Turn on the spectrophotometer 15 minutes before the measurements</li>
<li>Set wavelength to 562 nm.</li>
<li>Use the cuvettes the same orientation always</li>
<li>Put the blank into the spectrophotometer and press the ZERO key.</li>
<li>Measure the standards and samples in the same manner and record the Absorbance values. As soon as possible to avoid degradation of color complexes.</li>
<li>Remove the samples from spectrophotometer.</li>
<li>Absorbance values above 2 are meaningless. Try again diluting them.</li>
<li>Plot Absorbance VS Fe(II) ppm</li>
</ul>
</section>
</div>
<div id="tabset-5-6" class="tab-pane" role="tabpanel" aria-labelledby="tabset-5-6-tab">
<ul>
<li>5 mL of the sample</li>
<li>Nothing else is added to the sample</li>
</ul>
</div>
</div>
</div>
</section>
<section id="experiments" class="level1" data-number="6">
<h1 data-number="6"><span class="header-section-number">6</span> <strong>EXPERIMENTS</strong></h1>
<div class="tabset-margin-container"></div><div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-6-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-1" role="tab" aria-controls="tabset-6-1" aria-selected="true" href=""><strong>Flow-through reactive mini-column experiment results</strong></a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-6-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-6-2" role="tab" aria-controls="tabset-6-2" aria-selected="false" href=""><strong>Selective Sequential Extraction</strong></a></li></ul>
<div class="tab-content">
<div id="tabset-6-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-6-1-tab">

</div>
<div id="tabset-6-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-6-2-tab">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="SOP_files/figures/Slides_SOP/Slide31.PNG" class="img-fluid figure-img"></p>
<figcaption>SSE</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="SOP_files/figures/Slides_SOP/Slide32.PNG" class="img-fluid figure-img"></p>
<figcaption>SSE</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="SOP_files/figures/Slides_SOP/Slide33.PNG" class="img-fluid figure-img"></p>
<figcaption>SSE</figcaption>
</figure>
</div>
</div>
</div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>